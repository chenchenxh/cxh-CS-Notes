## 组合语法

一个类定义在另一个类之中，初始化的时候这个类会最早初始化：



## Override

即便不使用Override也是可以重写的，但是为什么要使用这个“关键词”呢？

> Java SE5新增加了@Override注解...当你想要重写某个方法的时候，可以选择添加这个注解，如果你不留心把重写写成了重载，那么编译器就会报错。

因此通过Override可以确保这个方法确实是重写，从而避免一些错误。



## 组合和继承的选择

组合和继承都可以让这个类拥有一些功能（实现接口也可以），那么如何选择呢？

> 尽管在教授OOP的过程中我们多次强调继承，但是这并不意味着我们要尽可能使用它。相反，应当慎用这个技术......到底组合还是继承，一个最清晰的判断方法就是问一问自己是否需要从新类向基类做向上转型。如果需要，那么继承是必要的；如果不需要，那么应该好好考虑是否有这个必要。

接口也是同理，如果不需要向上转型，那么用接口会更灵活。



## 空白final

> Java允许生成“空白final”

通过构造器对final关键字定义的域进行不一样的初始化。

```java
class test{
    final int i;
    test(){
        i = 0;
    }
    test(int j){
        i = j;
    }
    test(int k,int j){  //没有初始化i，报错
        
    }
}
```



## final方法

使用final方法的原因本来有两个：效率和不变

但是现在的效率普遍认为不值得。原来的final方法会被优化，因为final方法不可变，所以在编译阶段就会把所有这个调用转换成**内嵌调用**（区别与正常的压栈，返回的方式）。以此来消除方法调用的开销。

> 但是如果一个代码很大，程序代码会膨胀的很快，因而可能看不到内嵌带来的任何性能提高。
>
> 在最近的Java版本中，JVM（特别是HotSpot技术）可以探测到这种情况了，能够优化掉这些效率低下的内嵌调用，因此不再需要final方法来进行优化了。