## 区别

- 强引用

最常见的引用，不会被回收



- 软引用（soft）

如果一个对象只具有软引用，则内存空间足够，垃圾回收器就不会回收它；**如果内存空间不足了，就会回收这些对象的内存。只要垃圾回收器没有回收它，该对象就可以被程序使用。**软引用可用来实现内存敏感的高速缓存。  



- 弱引用

弱引用与软引用的区别在于：只具有弱引用的对象拥有更短暂的生命周期。**在垃圾回收器线程扫描它所管辖的内存区域的过程中，一旦发现了只具有弱引用的对象，不管当前内存空间足够与否，都会回收它的内存。**不过，由于垃圾回收器是一个优先级很低的线程，因此不一定会很快发现那些只具有弱引用的对象。



- 虚引用

“虚引用”顾名思义，就是形同虚设，与其他几种引用都不同，虚引用并不会决定对象的生命周期。如果一个对象仅持有虚引用，那么它就和没有任何引用一样，在任何时候都可能被垃圾回收器回收。

## 使用

面试的时候面试官问过一个问题，“如何判断一个对象是要用什么引用？”

其中最主要的就 **软引用、弱引用什么时候使用？**。

上面四个的评判标准都有：

1. **对象的使用频率**
2. **对象的重建难度和时间**
3. **回收价值**



强引用 -- 回收价值低的，使用频率高的

软引用 -- 回收价值较高，但是使用频率较高或者重建难度较大的

弱引用 -- 回收价值较高，使用频率一般，重建难度小的

虚引用 -- 无关紧要的对象，重建难度小，使用频率又低的，可能还比较占空间的。



|          | 高       | 中       | 低     |
| -------- | -------- | -------- | ------ |
| 回收价值 | 非强引用 | 考虑其他 | 强引用 |

|          | 高           | 低       |
| -------- | ------------ | -------- |
| 使用频率 | 尽可能强引用 | 考虑其他 |

|                    | 大                                                           | 低   |
| ------------------ | ------------------------------------------------------------ | ---- |
| 对象重建难度和时间 | 如果使用频率非常高，那么就是强引用；<br />如果使用频率一般，那么就考虑软引用 | 其他 |