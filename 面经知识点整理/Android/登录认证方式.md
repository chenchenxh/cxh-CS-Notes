https://www.cnblogs.com/fengzheng/p/8416393.html

## OAuth

**通过微信，qq，微博等登录。**

维基百科对它的解释摘要如下：

> OAuth允许用户提供一个令牌，而不是用户名和密码来访问他们存放在特定服务提供者的数据。每一个令牌授权一个特定的网站（例如，视频编辑网站)在特定的时段（例如，接下来的2小时内）内访问特定的资源（例如仅仅是某一相册中的视频）。这样，OAuth让用户可以授权第三方网站访问他们存储在另外服务提供者的某些特定信息，而非所有内容。

## Cookie-Session认证

很常用很经典的认证方式，早起的HTTP的认证很多使用的就是这种认证。

**认证过程大致如下：**

1. 用户输入用户名、密码或者用短信验证码方式登录系统；
2. 服务端验证后，创建一个 Session 信息，并且将 SessionID 存到 cookie，发送回浏览器；
3. 下次客户端再发起请求，自动带上 cookie 信息，服务端通过 cookie 获取 Session 信息进行校验；

缺点：

- APP这种无法使用cookie的则无法使用
- 有CSRF（跨站请求伪造）的风险
- 多结点（分布式）还要考虑Session同步问题

## 基于JWT的Token认证

**认证过程**

1. 依然是用户登录系统；
2. 服务端验证，将认证信息通过指定的算法（例如HS256）进行加密，例如对用户名和用户所属角色进行加密，加密私钥是保存在服务器端的，将加密后的结果发送给客户端，加密的字符串格式为三个"." 分隔的字符串 Token，分别对应**头部**、**载荷**与**签名**，头部和载荷都可以通过 base64 解码出来，签名部分不可以；
3. 客户端拿到返回的 Token，存储到 local storage 或本地数据库；
4. 下次客户端再次发起请求，将 Token 附加到 header 中；
5. 服务端获取 header 中的 Token ，通过相同的算法对 Token 中的用户名和所属角色进行相同的加密验证，如果验证结果相同，则说明这个请求是正常的，没有被篡改。这个过程可以完全不涉及到查询 Redis 或其他存储；



## 总

如果传输通道不安全，或者某一端被攻击，那么任何认证手段都是无效的。

所以需要尽可能保障通道和端的安全：

1. 使用HTTPS连接
2. 客户端不受攻击

